define(["ko","underscore"],(e,l)=>{"use strict";return function(o){const p=this;p.json=o.parent.json,p.products=o.parent.products,p.currentPage=o.parent.currentPage,p.selectedOptions=e.observableArray([]),p.filteredProductsByColor=e.observableArray([]),p.filteredProductsBySize=e.observableArray([]),p.colorArray=e.observableArray([{propLabel:"green",checkBoxValue:{propType:"color",value:"15"}},{propLabel:"red",checkBoxValue:{propType:"color",value:"32"}},{propLabel:"blue",checkBoxValue:{propType:"color",value:"33"}},{propLabel:"black",checkBoxValue:{propType:"color",value:"74"}},{propLabel:"tomato",checkBoxValue:{propType:"color",value:"37"}},{propLabel:"pink",checkBoxValue:{propType:"color",value:"38"}}]),p.sizeArray=e.observableArray([{propLabel:"XS",checkBoxValue:{propType:"size",value:"3"}},{propLabel:"SM",checkBoxValue:{propType:"size",value:"4"}},{propLabel:"MD",checkBoxValue:{propType:"size",value:"5"}},{propLabel:"LG",checkBoxValue:{propType:"size",value:"6"}},{propLabel:"XL",checkBoxValue:{propType:"size",value:"7"}}]),p.selectedOptions.subscribe(e=>{e=e.sort((e,r)=>e.propType>r.propType?1:-1);p.json=o.parent.json,p.filteredProductsByColor([]),p.filteredProductsBySize([]),e.forEach(r=>{"color"===r.propType&&p.json.forEach(e=>{e.color===r.value&&p.filteredProductsByColor.push(e)}),"size"===r.propType&&p.json.forEach(e=>{e.size===r.value&&p.filteredProductsBySize.push(e)})}),p.filtering(p.filteredProductsByColor,p.filteredProductsBySize)}),p.filtering=(e,r)=>{p.currentPage(1),0===l.size(e())&&0===l.size(r())&&p.products(o.parent.json.map(e=>e)),0!==l.size(e())&&0===l.size(r())&&p.products(e()),0===l.size(e())&&0!==l.size(r())&&p.products(p.filteredProductsBySize()),0!==l.size(e())&&0!==l.size(r())&&p.products(l.intersection(e(),r()))}}});